{"version":3,"sources":["product-cont.js"],"names":["window","document","html","documentElement","ww","innerWidth","innerHeight","getWinSet","arguments","length","undefined","pageYOffset","scrollTop","clientTop","getScrollTop","addEventListener","setTimeout","detailBtnMore","detailArticle","querySelector","classList","add","mageSecEls","mageAnchorName","detectIfScrollStop","offsetObj","app","default","web","large","xlarge","setUpMageFun","shapeType","contains","offsetNum","marginTop","forEach","item","dataset","rect","getBoundingClientRect","anchorEls","querySelectorAll","Math","floor","top","bottom","mageItem","remove","$","on","e","anchorId","this","attr","match","preventDefault","offsetTop","offset","animate"],"mappings":"CAAA,SAAWA,EAAQC,GAElB,IAAMC,EAAOD,EAASE,gBAClBC,EAAKJ,EAAOK,WACPL,EAAOM,YAKhB,SAASC,IACRH,EAAKJ,EAAOK,WACPL,EAAOM,YALb,WACC,QADsC,EAAAE,UAAAC,aAAAC,IAAAF,UAAA,GAAAA,UAAA,GAARR,GACfW,aAAeT,EAAKU,YAAcV,EAAKW,WAAa,GAK9DC,GAGNd,EAAOe,iBAAiB,OAAQR,GAChCP,EAAOe,iBAAiB,SAAUR,GAalCP,EAAOe,iBAAiB,OAAQ,WAE/BC,WAAW,WAXZ,IACOC,EACAC,EADAD,EAAgBhB,EAASkB,cAAc,2BACvCD,EAAgBjB,EAASkB,cAAc,uBAC7CF,EAAcF,iBAAiB,QAAS,WACvCG,EAAcE,UAAUC,IAAI,WAC5BJ,EAAcG,UAAUC,IAAI,WAQ1B,MAKJ,IAAIC,EAAa,KACbC,EAAiB,GACjBC,GAAqB,EACrBC,EAAY,CACfC,IAAO,CACNC,QAAW,IAEZC,IAAO,CACND,QAAW,IACXE,MAAS,IACTC,OAAU,MA8BZ,SAASC,IACR,GAAIT,EAAWb,OAAQ,CACtB,IAAIuB,EAAY/B,EAASE,gBAAgBiB,UAAUa,SAAS,OAAS,MAAQ,MACzEC,EAAYT,EAAUO,GAAV,QAEN,MAAN5B,IAAY8B,EAAYT,EAAUO,GAAV,OAClB,MAAN5B,IAAY8B,EAAYT,EAAUO,GAAV,QA/BzBG,EAkCWD,EAhCfZ,EAAWc,QAAQ,SAASC,GAC3B,GAAId,IAAmBc,EAAKC,QAAL,WAA4B,CAClDf,EAAiBc,EAAKC,QAAL,WAEjB,IAAIC,EAAOF,EAAKG,wBACZC,EAAYxC,EAASyC,iBAAiB,2BAA2BnB,EAAe,MAEhFoB,KAAKC,MAAML,EAAKM,MAAQV,GAAaQ,KAAKC,MAAML,EAAKO,QAAUX,EAC9DX,GACHiB,EAAUL,QAAQ,SAASW,GAC1BA,EAAS3B,UAAUC,IAAI,eAKzBoB,EAAUL,QAAQ,SAASW,GAC1BA,EAAS3B,UAAU4B,OAAO,kBAnB/B,IACKb,EAsCLnC,EAAOe,iBAAiB,OAAQ,WAE/BC,WAAW,WACVM,EAAarB,EAASyC,iBAAiB,sBAEvCX,IACA/B,EAAOe,iBAAiB,SAAUgB,GAClC/B,EAAOe,iBAAiB,SAAUgB,IAChC,MAOJkB,EAAEhD,GAAUiD,GAAG,QAAS,uBAAwB,SAASC,GAExD,IAAInB,EAAY/B,EAASE,gBAAgBiB,UAAUa,SAAS,OAAS,MAAQ,MACzEmB,EAAWH,EAAEI,MAAMC,KAAK,QAE5B,GAAIF,EAASG,MAAM,MAAO,CACzBJ,EAAEK,iBAEF,IAAIC,EAAYR,EAAEG,GAAUM,SAASb,IAEjCX,EAAYT,EAAUO,GAAV,QACN,MAAN5B,IAAY8B,EAAYT,EAAUO,GAAV,OAClB,MAAN5B,IAAY8B,EAAYT,EAAUO,GAAV,QAE5BR,GAAqB,EAErByB,EAAE,cAAcU,QAAQ,CACvB/C,UAAW+B,KAAKC,MAAMa,GAAavB,GACjC,IAAK,WACFV,IACJA,GAAqB,EAGrBO,UAjIL,CA0IG/B,OAAQC","file":"../product-cont.min.js","sourcesContent":["(function (window, document) {\r\n\t/* ---------------------------------------- [START] Windows Setting */\r\n\tconst html = document.documentElement;\r\n\tlet ww = window.innerWidth;\r\n\tlet wh = window.innerHeight;\r\n\tlet ws = 0;\r\n\tfunction getScrollTop(target = window) {\r\n\t\treturn (target.pageYOffset || html.scrollTop) - (html.clientTop || 0);\r\n\t}\r\n\tfunction getWinSet() {\r\n\t\tww = window.innerWidth;\r\n\t\twh = window.innerHeight;\r\n\t\tws = getScrollTop();\r\n\t}\r\n\r\n\twindow.addEventListener('load', getWinSet);\r\n\twindow.addEventListener('resize', getWinSet);\r\n\t/* ---------------------------------------- [END] Windows Setting */\r\n\r\n\t/* ---------------------------------------- [START] 詳細內容 展開更多 */\r\n\tfunction detailToggleBuild() {\r\n\t\tconst detailBtnMore = document.querySelector('#pd-detail__button-more');\r\n\t\tconst detailArticle = document.querySelector('#pd-detail__article');\r\n\t\tdetailBtnMore.addEventListener('click', function () {\r\n\t\t\tdetailArticle.classList.add('is-open');\r\n\t\t\tdetailBtnMore.classList.add('hide');\r\n\t\t});\r\n\t}\r\n\r\n\twindow.addEventListener('load', function() {\r\n\t\t// 因為要讓整體可以安裝vue，所有跟DOM讀取有端的function都要延後執行\r\n\t\tsetTimeout(() => {\r\n\t\t\tdetailToggleBuild();\r\n\t\t}, 20);\r\n\t})\r\n\t/* ---------------------------------------- [END] 詳細內容 展開更多 */\r\n\r\n\t/* ---------------------------------------- [START] pd-cont-fixed active nav */\r\n\tvar mageSecEls = null;\r\n\tvar mageAnchorName = '';\r\n\tvar detectIfScrollStop = true;\r\n\tvar offsetObj = {\r\n\t\t'app': {\r\n\t\t\t'default': 92,\r\n\t\t},\r\n\t\t'web': {\r\n\t\t\t'default': 100,\r\n\t\t\t'large': 245,\r\n\t\t\t'xlarge': 245\r\n\t\t}\r\n\t}\r\n\r\n\tfunction mageActiveSec(num) {\r\n\t\tvar marginTop = num;\r\n\r\n\t\tmageSecEls.forEach(function(item) {\r\n\t\t\tif (mageAnchorName !== item.dataset['mageTarget']) {\r\n\t\t\t\tmageAnchorName = item.dataset['mageTarget'];\r\n\r\n\t\t\t\tvar rect = item.getBoundingClientRect();\r\n\t\t\t\tvar anchorEls = document.querySelectorAll('[data-mage-nav] [href=\"#'+mageAnchorName+'\"]');\r\n\r\n\t\t\t\tif (Math.floor(rect.top) <= marginTop && Math.floor(rect.bottom) > marginTop) {\r\n\t\t\t\t\tif (detectIfScrollStop) {\r\n\t\t\t\t\t\tanchorEls.forEach(function(mageItem) {\r\n\t\t\t\t\t\t\tmageItem.classList.add('is-active');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// console.log('is-active');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tanchorEls.forEach(function(mageItem) {\r\n\t\t\t\t\t\tmageItem.classList.remove('is-active');\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction setUpMageFun() {\r\n\t\tif (mageSecEls.length) {\r\n\t\t\tvar shapeType = document.documentElement.classList.contains('app') ? 'app' : 'web';\r\n\t\t\tvar offsetNum = offsetObj[shapeType]['default'];\r\n\r\n\t\t\tif (ww >= 1024) offsetNum = offsetObj[shapeType]['large'];\r\n\t\t\tif (ww >= 1440) offsetNum = offsetObj[shapeType]['xlarge'];\r\n\r\n\t\t\t// 帶入要 offset 的高度\r\n\t\t\tmageActiveSec(offsetNum);\r\n\t\t}\r\n\t}\r\n\r\n\twindow.addEventListener('load', function() {\r\n\t\t// 因為要讓整體可以安裝vue，所有跟DOM讀取有端的function都要延後執行\r\n\t\tsetTimeout(() => {\r\n\t\t\tmageSecEls = document.querySelectorAll('[data-mage-target]');\r\n\r\n\t\t\tsetUpMageFun();\r\n\t\t\twindow.addEventListener('scroll', setUpMageFun);\r\n\t\t\twindow.addEventListener('resize', setUpMageFun);\r\n\t\t}, 20);\r\n\t});\r\n\r\n\t/* ---------------------------------------- [END] pd-cont-fixed active nav */\r\n\r\n\t/* ---------------------------------------- [START] pd-cont-fixed click active nav */\r\n\t\r\n\t$(document).on('click', '[data-fixed] a[href]', function(e) {\r\n\r\n\t\tvar shapeType = document.documentElement.classList.contains('app') ? 'app' : 'web';\r\n\t\tvar anchorId = $(this).attr('href');\r\n\r\n\t\tif (anchorId.match(/^#/)) {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tvar offsetTop = $(anchorId).offset().top;\r\n\t\r\n\t\t\tvar offsetNum = offsetObj[shapeType]['default'];\r\n\t\t\tif (ww >= 1024) offsetNum = offsetObj[shapeType]['large'];\r\n\t\t\tif (ww >= 1440) offsetNum = offsetObj[shapeType]['xlarge'];\r\n\t\r\n\t\t\tdetectIfScrollStop = false; // reset\r\n\t\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: Math.floor(offsetTop) - offsetNum\r\n\t\t\t}, 550, function() { \r\n\t\t\t\tif (!detectIfScrollStop) { \r\n\t\t\t\t\tdetectIfScrollStop = true;\r\n\t\t\t\t\t// console.log(detectIfScrollStop);\r\n\t\r\n\t\t\t\t\tsetUpMageFun(); \r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t/* ---------------------------------------- [END] pd-cont-fixed click active nav */\r\n\r\n\r\n})(window, document);\r\n"],"sourceRoot":"../../src/"}