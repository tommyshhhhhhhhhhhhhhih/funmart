{"version":3,"sources":["product-cont-chart.js"],"names":["window","document","myChart","timeControl","week","month-1","month-3","month-6","year","addEventListener","resize","buildChart","dataObj","dayType","maxInterval","minInterval","chartDom","getElementById","data","slice","echarts","init","oneDay","option","responsive","maintainAspectRatio","scales","yAxes","ticks","beginAtZero","tooltip","trigger","position","point","params","dom","rect","size","contentSize","formatter","concat","value","className","transitionDuration","xAxis","type","splitLine","show","axisLine","lineStyle","color","yAxis","boundaryGap","series","showSymbol","width","emphasis","symbolSize","grid","top","left","right","bottom","setOption","echart","dispatchAction"],"mappings":"CAAA,SAAWA,EAAQC,GAElB,IAAIC,EAAU,KAEVC,EAAc,CACjBC,KAAQ,EACRC,UAAW,GACXC,UAAW,GACXC,UAAW,IACXC,KAAQ,KAmHTR,EAAOS,iBAAiB,SAAU,WAC7BP,GACHA,EAAQQ,WAIVV,EAAOW,WAtHP,SAAoBC,EAASC,GAG5B,IAMIC,EAAaC,EANbC,EAAWf,EAASgB,eAAe,qBACnCC,EAAON,EAAQO,MAAM,EAAGhB,EAAYU,IAQxC,OANAX,EAAUkB,QAAQC,KAAKL,GAMfH,GACP,IAAK,UACJE,EAAcO,OACd,MACD,QACCR,EAAc,KAGhB,IAAIS,EAAS,CACZC,YAAY,EACZC,qBAAqB,EACrBC,OAAQ,CACPC,MAAO,CACN,CACCC,MAAO,CACNC,aAAa,MAKjBC,QAAS,CACRC,QAAS,OAETC,SAAU,SAAUC,EAAOC,EAAQC,EAAKC,EAAMC,GAC7C,MAAO,CAACJ,EAAM,GAAKI,EAAKC,YAAY,GAAK,EAAG,MAE7CC,UAAW,SAAUL,GAEpB,MAAA,yCAAAM,OAC2BN,EAAO,GAAGhB,KAAKuB,MAAM,GADhD,uCAAAD,OAEWN,EAAO,GAAGhB,KAAKuB,MAAM,GAFhC,0BAKDC,UAAW,kBACXC,mBAAoB,IAErBC,MAAO,CACNC,KAAM,OACNC,UAAW,CACVC,MAAM,GAEPC,SAAU,CACTC,UAAW,CACVC,MAAO,SAGTpC,YAAaA,EACbC,YAAaA,GAEdoC,MAAO,CACNN,KAAM,QACNO,YAAa,CAAC,EAAG,QACjBJ,SAAU,CACTC,UAAW,CACVC,MAAO,UAIVG,OAAQ,CACP,CACCR,KAAM,OACNS,YAAY,EACZL,UAAW,CACVM,MAAO,GAERC,SAAU,CACTP,UAAW,CACVM,MAAO,IAGTL,MAAO,UACPO,WAAY,EACZvC,KAAMA,IAIRwC,KAAM,CACLC,IAAK,GACLC,KAAM,GACNC,MAAO,EACPC,OAAQ,KAIA5D,EAAQ6D,UAAUxC,GAE5BP,EAASgD,OAAS9D,EAElBc,EAASP,iBAAiB,WAAY,WAMrCP,EAAQ+D,eAAe,CACtBpB,KAAM,eAvHV,CAoIG7C,OAAQC","file":"../product-cont-chart.min.js","sourcesContent":["(function (window, document) {\r\n\t/* ---------------------------------------- [START] 交易履歷 - Chart */\r\n\tvar myChart = null;\r\n\r\n\tvar timeControl = {\r\n\t\t'week': 7,\r\n\t\t'month-1': 30,\r\n\t\t'month-3': 90,\r\n\t\t'month-6': 180,\r\n\t\t'year': 365,\r\n\t};\r\n\r\n\tfunction buildChart(dataObj, dayType) {\r\n\t\t// console.log('build Chart');\r\n\r\n\t\tvar chartDom = document.getElementById('pd-history__chart');\r\n\t\tvar data = dataObj.slice(0, timeControl[dayType]);\r\n\r\n\t\tmyChart = echarts.init(chartDom);\r\n\r\n\t\tvar oneDay = 3600 * 24 * 1000;\r\n\t\tvar maxInterval, minInterval;\r\n\r\n\t\t// 避免\r\n\t\tswitch (dayType) {\r\n\t\t\tcase 'month-3':\r\n\t\t\t\tminInterval = oneDay * 30;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tmaxInterval = null;\r\n\t\t}\r\n\r\n\t\tvar option = {\r\n\t\t\tresponsive: true,\r\n\t\t\tmaintainAspectRatio: false,\r\n\t\t\tscales: {\r\n\t\t\t\tyAxes: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\ttooltip: {\r\n\t\t\t\ttrigger: 'axis',\r\n\t\t\t\t// 固定在顶部 + 置中\r\n\t\t\t\tposition: function (point, params, dom, rect, size) {\r\n\t\t\t\t\treturn [point[0] - size.contentSize[0] / 2, '0'];\r\n\t\t\t\t},\r\n\t\t\t\tformatter: function (params) {\r\n\t\t\t\t\t// console.log(params[0].data.value[1]);\r\n\t\t\t\t\treturn `\r\n\t\t\t\t\t\t<small class=\"text-tip\">${params[0].data.value[0]}</small></br>\r\n\t\t\t\t\t\t<strong>${params[0].data.value[1]}</strong>\r\n\t\t\t\t\t`;\r\n\t\t\t\t},\r\n\t\t\t\tclassName: 'echarts-tooltip',\r\n\t\t\t\ttransitionDuration: 0.1,\r\n\t\t\t},\r\n\t\t\txAxis: {\r\n\t\t\t\ttype: 'time',\r\n\t\t\t\tsplitLine: {\r\n\t\t\t\t\tshow: false,\r\n\t\t\t\t},\r\n\t\t\t\taxisLine: {\r\n\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\tcolor: '#333',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\tmaxInterval: maxInterval,\r\n\t\t\t\tminInterval: minInterval\r\n\t\t\t},\r\n\t\t\tyAxis: {\r\n\t\t\t\ttype: 'value',\r\n\t\t\t\tboundaryGap: [0, '100%'],\r\n\t\t\t\taxisLine: {\r\n\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\tcolor: '#333',\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tseries: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'line',\r\n\t\t\t\t\tshowSymbol: false, // 取消值点的空心样式，只有在hover时显示\r\n\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\twidth: 2, // 正常时的折线宽度\r\n\t\t\t\t\t},\r\n\t\t\t\t\temphasis: {\r\n\t\t\t\t\t\tlineStyle: {\r\n\t\t\t\t\t\t\twidth: 2, // hover时的折线宽度\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcolor: '#11b8ea',\r\n\t\t\t\t\tsymbolSize: 8, // 交點大小\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\t// Chart 的顯示範圍(%)\r\n\t\t\tgrid: {\r\n\t\t\t\ttop: 50,\r\n\t\t\t\tleft: 30,\r\n\t\t\t\tright: 5,\r\n\t\t\t\tbottom: 20,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\toption && myChart.setOption(option);\r\n\r\n\t\tchartDom.echart = myChart;\r\n\r\n\t\tchartDom.addEventListener('touchend', () => {\r\n\t\t\t// myChart.dispatchAction({\r\n\t\t\t// \ttype: 'downplay',\r\n\t\t\t// \tseriesIndex: 0,\r\n\t\t\t// });\r\n\r\n\t\t\tmyChart.dispatchAction({\r\n\t\t\t\ttype: 'hideTip',\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\twindow.addEventListener('resize', function () {\r\n\t\tif (myChart) {\r\n\t\t\tmyChart.resize();\r\n\t\t}\r\n\t});\r\n\r\n\twindow.buildChart = buildChart;\r\n\t/* ---------------------------------------- [END] 交易履歷 - Chart */\r\n})(window, document);\r\n"],"sourceRoot":"../../src/"}