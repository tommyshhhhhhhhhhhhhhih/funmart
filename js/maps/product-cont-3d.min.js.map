{"version":3,"sources":["src/js/modules/fn.mjs","src/js/modules/polyfill-pointer-capture.mjs","src/js/product-cont-3d.mjs"],"names":["doFn","target","event","func","option","window","addEventListener","opt","attachEvent","on","delay","_this","this","setTimeout","call","replace","undefined","Element","prototype","setPointerCapture","hasPointerCapture","releasePointerCapture","console","log","_Element$prototype","set","release","targets","captures","pointerId","document","contains","TypeError","redirectPointer","preventDefault","stopPropagation","dispatchEvent","PointerEvent","type","redirectAndUnregisterPointer","pointerType","capture","passive","parser","UAParser","getDevice","model","viewer","viewerEl","btnFullScreen","build3D","elem","BABYLON","getElementById","querySelector","modal","dataset","cover","hardwareScalingLevel","Math","max","devicePixelRatio","BabylonViewer","DefaultViewer","engine","antialiasing","url","animation","autoStart","templates","loadingScreen","params","backgroundColor","loadingImage","staticLoadingImage","html","enableDragAndDrop","navBar","camera","behaviors","autoRotate","onModelLoadedObservable","add","meshes","setHardwareScalingLevel","getOS","name","match","classList","remove","build3DViewer","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","webkitEnterFullscreen"],"mappings":"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","file":"../product-cont-3d.min.js","sourcesContent":["/* ---------------------------------------- [START] Window EventListener */\r\nfunction doFn(target, event, func, option) {\r\n\ttarget = target || window;\r\n\tif (window.addEventListener) {\r\n\t\tvar opt = option || false;\r\n\t\ttarget.addEventListener(event, func, opt);\r\n\t} else {\r\n\t\ttarget.attachEvent('on' + event, func);\r\n\t}\r\n}\r\n\r\nexport function on(target, event, func, option, delay) {\r\n\ttarget = target || window;\r\n\r\n\tif (event === 'load') {\r\n\t\t// 因為客戶要整體安裝Vue，所以所有使用load的項目延遲生成\r\n\t\tdelay = delay || 20;\r\n\t\tvar funcDelay = function() {\r\n\t\t\tvar _this = this;\r\n\t\t\tsetTimeout( function() {\r\n\t\t\t\tfunc.call(_this);\r\n\t\t\t}, delay);\r\n\t\t}\r\n\t\tdoFn(target, event, funcDelay, option);\r\n\t} else if (event === 'load:origin') {\r\n\t\t// load 原生，不延遲方式生成\r\n\t\tevent = event.replace(/:origin/, '');\r\n\t\tdoFn(target, event, func, option);\r\n\t} else {\r\n\t\tdoFn(target, event, func, option);\r\n\t}\r\n}\r\n\r\nexport function off(target, event, func, option) {\r\n\ttarget = target || window;\r\n\tif (window.addEventListener) {\r\n\t\tvar opt = option || false;\r\n\t\ttarget.addEventListener(event, func, opt);\r\n\t} else {\r\n\t\ttarget.attachEvent('on' + event, func);\r\n\t}\r\n}\r\n/* ---------------------------------------- [END] Window EventListener */\r\n\r\n/* ---------------------------------------- [START] 簡單的節流函數 */\r\n// https://www.cnblogs.com/coco1s/p/5499469.html\r\nexport function throttle(func, wait, mustRun) {\r\n\tvar timeout;\r\n\tvar startTime = new Date();\r\n\r\n\treturn function () {\r\n\t\tvar context = this;\r\n\t\tvar args = arguments;\r\n\t\tvar curTime = new Date();\r\n\r\n\t\tif (timeout !== undefined) {\r\n\t\t\tclearTimeout(timeout);\r\n\t\t}\r\n\t\t// 如果達到了規定的觸發時間間隔，觸發 handler\r\n\t\tif (curTime - startTime >= mustRun) {\r\n\t\t\tfunc.apply(context, args);\r\n\t\t\tstartTime = curTime;\r\n\t\t\t// 沒達到觸發間隔，重新設定定時器\r\n\t\t} else {\r\n\t\t\ttimeout = setTimeout(func, wait);\r\n\t\t}\r\n\t};\r\n}\r\n/* ---------------------------------------- [END] 簡單的節流函數 */\r\n\r\n/* ---------------------------------------- [START] isInViewport */\r\nexport function isInViewport(el) {\r\n\tvar rect = el.getBoundingClientRect();\r\n\r\n\tvar isVisible = el.offsetHeight !== 0;\r\n\r\n\treturn (\r\n\t\tisVisible &&\r\n\t\trect.bottom >= 0 &&\r\n\t\trect.right >= 0 &&\r\n\t\trect.top <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n\t\trect.left <= (window.innerWidth || document.documentElement.clientWidth)\r\n\t);\r\n}\r\n/* ---------------------------------------- [END] isInViewport */\r\n\r\n/* ---------------------------------------- [START] 從 String 取得 HTML Element */\r\n// https://stackoverflow.com/a/494348/11240898\r\nexport function createElementFromHTML(htmlString) {\r\n\tvar div = document.createElement('div');\r\n\tdiv.innerHTML = htmlString.trim();\r\n\r\n\t// Change this to div.childNodes to support multiple top-level nodes\r\n\treturn div.firstChild;\r\n}\r\n/* ---------------------------------------- [END] 從 String 取得 HTML Element */\r\n\r\n/* ---------------------------------------- [START] Disable/Enable Scroll */\r\nexport function docDisableScroll() {\r\n\tvar html = document.documentElement;\r\n\tvar top = (window.pageYOffset || html.scrollTop) - (html.clientTop || 0);\r\n\twindow.scrollTopCache = top;\r\n\thtml.style.cssText += `position: fixed; width: 100%; overflow-y: hidden; top:-${top}px`;\r\n}\r\nexport function docEnableScroll() {\r\n\tvar html = document.documentElement;\r\n\thtml.style.cssText = '';\r\n\twindow.scrollTo(0, window.scrollTopCache);\r\n\twindow.scrollTopCache = 0;\r\n}\r\n/* ---------------------------------------- [END] Disable/Enable Scroll */\r\n\r\n/* ---------------------------------------- [START] 取得正確的資源位置 */\r\n// https://stackoverflow.com/a/26023176/11240898\r\n/**\r\n * Current Script Path | 取得正確的資源位置\r\n *\r\n * Get the dir path to the currently executing script file\r\n * which is always the last one in the scripts array with\r\n * an [src] attr\r\n */\r\nexport function currentScriptPath() {\r\n\tvar scripts = document.querySelectorAll('script[src]');\r\n\tvar currentScript = scripts[scripts.length - 1].src;\r\n\tvar currentScriptChunks = currentScript.split('/');\r\n\tvar currentScriptFile = currentScriptChunks[currentScriptChunks.length - 1];\r\n\r\n\treturn currentScript.replace(currentScriptFile, '').split('js/')[0];\r\n}\r\n/* ---------------------------------------- [END] 取得正確的資源位置 */\r\n","// Need to figure out some way to test if this is needed.\r\n// https://stackoverflow.com/q/64017560/11240898\r\nif (\r\n\tElement.prototype.setPointerCapture === undefined ||\r\n\tElement.prototype.hasPointerCapture === undefined ||\r\n\tElement.prototype.releasePointerCapture === undefined\r\n) {\r\n\tconsole.log('polyfill-pointer-capture')\r\n\r\n\tconst {\r\n\t\tsetPointerCapture: set,\r\n\t\thasPointerCapture: has,\r\n\t\treleasePointerCapture: release\r\n\t} = Element.prototype\r\n\r\n\tlet targets = {};\r\n\tlet captures = {}\r\n\r\n\tconsole.log('setPointerCapture', Element.prototype.setPointerCapture === undefined);\r\n\tif (Element.prototype.setPointerCapture === undefined) {\r\n\t\tElement.prototype.setPointerCapture = function setPointerCapture(pointerId) {\r\n\t\t\tif (pointerId in captures) {\r\n\t\t\t\tif (document.contains(this)) {\r\n\t\t\t\t\tcaptures[pointerId] = this\r\n\t\t\t\t\treturn set.call(targets[pointerId], pointerId)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new TypeError(\"Element not in valid location\")\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn set.call(this, pointerId)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconsole.log('hasPointerCapture', Element.prototype.hasPointerCapture === undefined);\r\n\tif (Element.prototype.hasPointerCapture === undefined) {\r\n\t\tElement.prototype.hasPointerCapture = function hasPointerCapture(pointerId) {\r\n\t\t\tif (pointerId in captures) {\r\n\t\t\t\treturn captures[pointerId] == this\r\n\t\t\t} else {\r\n\t\t\t\t// return has.call(this, pointerId)\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconsole.log('releasePointerCapture', Element.prototype.releasePointerCapture === undefined);\r\n\tif (Element.prototype.releasePointerCapture) {\r\n\t\tElement.prototype.releasePointerCapture = function releasePointerCapture(pointerId) {\r\n\t\t\tif (pointerId in captures) {\r\n\t\t\t\tif (this.hasPointerCapture(pointerId)) {\r\n\t\t\t\t\tcaptures[pointerId] = null\r\n\t\t\t\t\treturn release.call(targets[pointerId], pointerId)\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn release.call(this, pointerId)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst registerPointer = function registerPointer(event) {\r\n\t\tif (event.pointerType == \"touch\" || event.pointerType == \"pen\") {\r\n\t\t\ttargets[event.pointerId] = event.target\r\n\t\t\tcaptures[event.pointerId] = null\r\n\t\t}\r\n\t};\r\n\r\n\tconst redirectPointer = function redirectPointer(event) {\r\n\t\tif (captures[event.pointerId] != null && captures[event.pointerId] != event.target) {\r\n\t\t\t// Stop the original event\r\n\t\t\tevent.preventDefault()\r\n\t\t\tevent.stopPropagation()\r\n\r\n\t\t\t// Redispatch a new, cloned event\r\n\t\t\tcaptures[event.pointerId].dispatchEvent(new PointerEvent(event.type, event))\r\n\t\t}\r\n\t};\r\n\r\n\tconst redirectAndUnregisterPointer = function redirectAndUnregisterPointer(event) {\r\n\t\tredirectPointer(event)\r\n\t\tdelete targets[event.pointerId]\r\n\t\tdelete captures[event.pointerId]\r\n\t};\r\n\r\n\taddEventListener(\"pointerdown\", registerPointer, {capture: true, passive: true})\r\n\taddEventListener(\"pointermove\", redirectPointer, {capture: true, passive: false})\r\n\taddEventListener(\"pointerup\", redirectAndUnregisterPointer, {capture: true, passive: false})\r\n\taddEventListener(\"pointercancel\", redirectAndUnregisterPointer, {capture: true, passive: false})\r\n}\r\n","import { on } from './modules/fn.mjs';\r\nimport './modules/polyfill-pointer-capture.mjs';\r\n\r\n(function (window, document) {\r\n\t// Use UAParser.js\r\n\t// https://github.com/faisalman/ua-parser-js\r\n\tlet parser = null;\r\n\tlet isMobile = false;\r\n\ton(window, 'load', function() {\r\n\t\tparser = new UAParser();\r\n\t\tisMobile = parser.getDevice().model ? true : false;\r\n\t});\r\n\r\n\t/* ---------------------------------------- [START] Banner - 3D */\r\n\t// To Do List\r\n\t// * Android 5 Warning\r\n\t// * Not Support\r\n\t// * Touch 提示\r\n\t// * Error 提示\r\n\tlet viewer = null;\r\n\tlet viewerEl = null;\r\n\tlet btnFullScreen = null;\r\n\r\n\t// 使用 babylon.js 的 Viewer\r\n\tfunction build3DViewer() {\r\n\t\t// 3D檔案路徑\r\n\t\tconst modal = viewerEl.dataset['model']; // 商品3D檔\r\n\t\tconst cover = viewerEl.dataset['cover']; // 商品圖\r\n\r\n\t\tconsole.log(cover);\r\n\r\n\t\t// 依照 Ratio 調整大小 (setHardwareScalingLevel)\r\n\t\t// 1 => 1\r\n\t\t// 2 => 0.5\r\n\t\t// 最多做到 2x 大小，避免裝置負擔太重\r\n\t\tconst hardwareScalingLevel = Math.max(.5 , 1 / (window.devicePixelRatio || 2 ));\r\n\r\n\t\tviewer = new BabylonViewer.DefaultViewer(viewerEl, {\r\n\t\t\t// scene: {\r\n\t\t\t// \tmainColor: {\r\n\t\t\t// \t\tr: ,\r\n\t\t\t// \t\tg: 0.8,\r\n\t\t\t// \t\tb: 0.6\r\n\t\t\t// \t}\r\n\t\t\t// },\r\n\t\t\tengine: {\r\n\t\t\t\tantialiasing: false,\r\n\t\t\t},\r\n\t\t\tmodel: {\r\n\t\t\t\turl: modal,\r\n\t\t\t\t// url: \"images/3d/fox/fox.glb\",\r\n\t\t\t\tanimation: {\r\n\t\t\t\t\tautoStart: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttemplates: {\r\n\t\t\t\tloadingScreen: {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tbackgroundColor: \"linear-gradient(to bottom,#a6f4f2,#d0fbee 69%,#eaf8f4 99%)\",\r\n\t\t\t\t\t\tloadingImage: \"images/babylon-loading.png\",\r\n\t\t\t\t\t\tstaticLoadingImage: \"images/babylon-static.svg\",\r\n\t\t\t\t\t\tcover: cover,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 原始DOM參考: https://github.com/BabylonJS/Babylon.js/blob/master/Viewer/assets/templates/default/loadingScreen.html\r\n\t\t\t\t\thtml: `\r\n\t\t\t\t\t<style>loading-screen{position:absolute;left:0;z-index:100;opacity:1;overflow: hidden;pointer-events:none;display:flex;justify-content:center;align-items:center;-webkit-transition:opacity 1s ease;-moz-transition:opacity 1s ease;transition:opacity 1s ease;}img.loading-image{-webkit-animation:spin .75s linear infinite;animation:spin .75s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.modal-loading-demo{position:absolute;width:100%;height:100%;}.modal-loading-demo__inside{position:absolute;width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center center;filter:blur(5px);}</style>\r\n\t\t\t\t\t<div class=\"modal-loading-demo\" style=\"position:absolute;\">\r\n\t\t\t\t\t\t<div class=\"modal-loading-demo__inside\" style=\"position:absolute;background-image:url({{cover}});-webkit-transform:scale(1.1);transform:scale(1.1);\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img class=\"loading-image\" style=\"position:absolute\" src=\"{{loadingImage}}\">\r\n\t\t\t\t\t<img class=\"static-loading-image\" style=\"position:absolute\" src=\"{{staticLoadingImage}}\">\r\n\t\t\t\t\t`\r\n\t\t\t\t},\r\n\t\t\t\tviewer: {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tenableDragAndDrop: true\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t// 移除 Nav Bar\r\n\t\t\t\tnavBar: {\r\n\t\t\t\t\thtml: \"<div><div/>\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcamera: {\r\n\t\t\t\tbehaviors: {\r\n\t\t\t\t\tautoRotate: {\r\n\t\t\t\t\t\ttype: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// error: {\r\n\t\t\t// \thtml: \"<div>.........</div>\"\r\n\t\t\t// }\r\n\t\t});\r\n\r\n\t\t// viewer.onEngineInitObservable.add(function (engine) {\r\n\t\t// \tconsole.log('Engine initialized');\r\n\t\t// });\r\n\r\n\t\t// viewer.onSceneInitObservable.add(function (scene) {\r\n\t\t// \tconsole.log('Scene initialized');\r\n\t\t// });\r\n\r\n\t\tviewer.onModelLoadedObservable.add(function (meshes) {\r\n\t\t\t// 依照Ratio調整大小\r\n\t\t\tif (hardwareScalingLevel !== 1) {\r\n\t\t\t\tviewer.engine.setHardwareScalingLevel(hardwareScalingLevel);\r\n\t\t\t}\r\n\r\n\t\t\t// 顯示全螢幕按鈕\r\n\t\t\t// 排除iOS，因為 iOS 沒有 Fullscreen API\r\n\t\t\tif (!parser.getOS().name.match(/iOS/)) {\r\n\t\t\t\tbtnFullScreen.classList.remove('hide');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction build3DFullScreen() {\r\n\t\tconst elem = viewerEl;\r\n\t\tconst btn = btnFullScreen;\r\n\r\n\t\ton(btn, 'click', function() {\r\n\t\t\tif (elem.requestFullscreen) {\r\n\t\t\t\telem.requestFullscreen();\r\n\t\t\t} else if (elem.msRequestFullscreen) {\r\n\t\t\t\telem.msRequestFullscreen();\r\n\t\t\t} else if (elem.mozRequestFullScreen) {\r\n\t\t\t\telem.mozRequestFullScreen();\r\n\t\t\t} else if (elem.webkitRequestFullscreen) {\r\n\t\t\t\telem.webkitRequestFullscreen();\r\n\t\t\t} else if (document.webkitEnterFullscreen) {\r\n\t\t\t\telem.webkitEnterFullscreen();\r\n\t\t\t// } else {\r\n\t\t\t// \telem.classList.add('is-fullscreen')\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// 配合套版，給予可呼叫之function\r\n\tfunction build3D () {\r\n\t\tif (window.BABYLON) {\r\n\t\t\tviewerEl = document.getElementById('babylon-viewer');\r\n\t\t\tbtnFullScreen = document.querySelector('.js-fullscreen');\r\n\r\n\t\t\tbuild3DViewer();\r\n\t\t\tbuild3DFullScreen();\r\n\t\t}\r\n\t}\r\n\r\n\twindow.build3D = build3D;\r\n\r\n\t// on(window, 'load', function() {\r\n\t// \tif (window.BABYLON) {\r\n\t// \t\tviewerEl = document.getElementById('babylon-viewer');\r\n\t// \t\tbtnFullScreen = document.querySelector('.js-fullscreen');\r\n\r\n\t// \t\tbuild3DViewer();\r\n\t// \t\tbuild3DFullScreen();\r\n\t// \t}\r\n\t// });\r\n\t/* ---------------------------------------- [END] Banner - 3D */\r\n})(window, document);\r\n"],"sourceRoot":"../../src/"}