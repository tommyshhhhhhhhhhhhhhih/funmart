{"version":3,"sources":["src/js/modules/swiper-utils.mjs"],"names":["Utils","deleteProps","obj","object","Object","keys","forEach","key","e","nextTick","callback","delay","setTimeout","now","Date","getTranslate","el","axis","matrix","curTransform","transformMatrix","curStyle","win","getComputedStyle","WebKitCSSMatrix","transform","webkitTransform","split","length","map","a","replace","join","MozTransform","OTransform","MsTransform","msTransform","getPropertyValue","toString","m41","parseFloat","m42","parseUrlQuery","url","i","params","param","query","urlToParse","location","href","indexOf","filter","paramsPart","decodeURIComponent","undefined","isObject","o","_typeof","constructor","extend","args","len$1","arguments","to","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","enumerable","effectParams","$slideEl","transformEl","find","css","backface-visibility","-webkit-backface-visibility","_ref","swiper","duration","allSlides","slides","activeIndex","$wrapperEl","virtualTranslate","eventTriggered","eq","transitionEnd","destroyed","animating","triggerEvents","trigger"],"mappings":"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","file":"../../modules/swiper-utils.min.js","sourcesContent":["var Utils = {\r\n    deleteProps: function deleteProps(obj) {\r\n      var object = obj;\r\n      Object.keys(object).forEach(function (key) {\r\n        try {\r\n          object[key] = null;\r\n        } catch (e) {\r\n          // no getter for object\r\n        }\r\n        try {\r\n          delete object[key];\r\n        } catch (e) {\r\n          // something got wrong\r\n        }\r\n      });\r\n    },\r\n    nextTick: function nextTick(callback, delay) {\r\n      if ( delay === void 0 ) delay = 0;\r\n\r\n      return setTimeout(callback, delay);\r\n    },\r\n    now: function now() {\r\n      return Date.now();\r\n    },\r\n    getTranslate: function getTranslate(el, axis) {\r\n      if ( axis === void 0 ) axis = 'x';\r\n\r\n      var matrix;\r\n      var curTransform;\r\n      var transformMatrix;\r\n\r\n      var curStyle = win.getComputedStyle(el, null);\r\n\r\n      if (win.WebKitCSSMatrix) {\r\n        curTransform = curStyle.transform || curStyle.webkitTransform;\r\n        if (curTransform.split(',').length > 6) {\r\n          curTransform = curTransform.split(', ').map(function (a) { return a.replace(',', '.'); }).join(', ');\r\n        }\r\n        // Some old versions of Webkit choke when 'none' is passed; pass\r\n        // empty string instead in this case\r\n        transformMatrix = new win.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\r\n      } else {\r\n        transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\r\n        matrix = transformMatrix.toString().split(',');\r\n      }\r\n\r\n      if (axis === 'x') {\r\n        // Latest Chrome and webkits Fix\r\n        if (win.WebKitCSSMatrix) { curTransform = transformMatrix.m41; }\r\n        // Crazy IE10 Matrix\r\n        else if (matrix.length === 16) { curTransform = parseFloat(matrix[12]); }\r\n        // Normal Browsers\r\n        else { curTransform = parseFloat(matrix[4]); }\r\n      }\r\n      if (axis === 'y') {\r\n        // Latest Chrome and webkits Fix\r\n        if (win.WebKitCSSMatrix) { curTransform = transformMatrix.m42; }\r\n        // Crazy IE10 Matrix\r\n        else if (matrix.length === 16) { curTransform = parseFloat(matrix[13]); }\r\n        // Normal Browsers\r\n        else { curTransform = parseFloat(matrix[5]); }\r\n      }\r\n      return curTransform || 0;\r\n    },\r\n    parseUrlQuery: function parseUrlQuery(url) {\r\n      var query = {};\r\n      var urlToParse = url || win.location.href;\r\n      var i;\r\n      var params;\r\n      var param;\r\n      var length;\r\n      if (typeof urlToParse === 'string' && urlToParse.length) {\r\n        urlToParse = urlToParse.indexOf('?') > -1 ? urlToParse.replace(/\\S*\\?/, '') : '';\r\n        params = urlToParse.split('&').filter(function (paramsPart) { return paramsPart !== ''; });\r\n        length = params.length;\r\n\r\n        for (i = 0; i < length; i += 1) {\r\n          param = params[i].replace(/#\\S+/g, '').split('=');\r\n          query[decodeURIComponent(param[0])] = typeof param[1] === 'undefined' ? undefined : decodeURIComponent(param[1]) || '';\r\n        }\r\n      }\r\n      return query;\r\n    },\r\n    isObject: function isObject(o) {\r\n      return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;\r\n    },\r\n    extend: function extend() {\r\n      var args = [], len$1 = arguments.length;\r\n      while ( len$1-- ) args[ len$1 ] = arguments[ len$1 ];\r\n\r\n      var to = Object(args[0]);\r\n      for (var i = 1; i < args.length; i += 1) {\r\n        var nextSource = args[i];\r\n        if (nextSource !== undefined && nextSource !== null) {\r\n          var keysArray = Object.keys(Object(nextSource));\r\n          for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\r\n            var nextKey = keysArray[nextIndex];\r\n            var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\r\n            if (desc !== undefined && desc.enumerable) {\r\n              if (Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {\r\n                Utils.extend(to[nextKey], nextSource[nextKey]);\r\n              } else if (!Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {\r\n                to[nextKey] = {};\r\n                Utils.extend(to[nextKey], nextSource[nextKey]);\r\n              } else {\r\n                to[nextKey] = nextSource[nextKey];\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return to;\r\n    },\r\n  };\r\n\r\n  function effectTarget(effectParams, $slideEl) {\r\n    if (effectParams.transformEl) {\r\n      return $slideEl.find(effectParams.transformEl).css({\r\n        'backface-visibility': 'hidden',\r\n        '-webkit-backface-visibility': 'hidden'\r\n      });\r\n    }\r\n\r\n    return $slideEl;\r\n  }\r\n\r\n  function effectVirtualTransitionEnd({\r\n    swiper,\r\n    duration,\r\n    transformEl,\r\n    allSlides\r\n  }) {\r\n    const {\r\n      slides,\r\n      activeIndex,\r\n      $wrapperEl\r\n    } = swiper;\r\n\r\n    if (swiper.params.virtualTranslate && duration !== 0) {\r\n      let eventTriggered = false;\r\n      let $transitionEndTarget;\r\n\r\n      if (allSlides) {\r\n        $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\r\n      } else {\r\n        $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\r\n      }\r\n\r\n      $transitionEndTarget.transitionEnd(() => {\r\n        if (eventTriggered) return;\r\n        if (!swiper || swiper.destroyed) return;\r\n        eventTriggered = true;\r\n        swiper.animating = false;\r\n        const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\r\n\r\n        for (let i = 0; i < triggerEvents.length; i += 1) {\r\n          $wrapperEl.trigger(triggerEvents[i]);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\nexport { Utils, effectTarget, effectVirtualTransitionEnd };\r\n"],"sourceRoot":"../../../src/"}