{"version":3,"sources":["src/js/modules/swiper-utils.mjs","src/js/modules/swiper-creative-effect.mjs"],"names":["Utils","deleteProps","obj","object","Object","keys","forEach","key","e","nextTick","callback","delay","setTimeout","now","Date","getTranslate","el","axis","matrix","curTransform","transformMatrix","curStyle","win","getComputedStyle","WebKitCSSMatrix","transform","webkitTransform","split","length","map","a","replace","join","MozTransform","OTransform","MsTransform","msTransform","getPropertyValue","toString","m41","parseFloat","m42","parseUrlQuery","url","i","params","param","query","urlToParse","location","href","indexOf","filter","paramsPart","decodeURIComponent","undefined","isObject","o","_typeof","constructor","extend","args","len$1","arguments","to","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","enumerable","Creative","setTranslate","swiper","this","slides","$wrapperEl","slidesSizesGrid","creativeEffect","multiplier","progressMultiplier","isCenteredSlides","centeredSlides","margin","slidesOffsetBefore","concat","_loop","$slideEl","eq","slideProgress","progress","progressPlusMinus","Math","min","max","limitProgress","slideProgressRound","round","slideProgressAbs","abs","sum","deep","j","pow","rate","originalProgress","offset","swiperSlideOffset","t","cssMode","translate","r","custom","isHorizontal","data","rotate","scale","opacity","next","prev","value","index","style","zIndex","translateString","rotateString","scaleString","opacityString","shadow","$shadowEl","children","createShadow","shadowOpacity","shadowPerProgress","effectParams","$targetEl","transformEl","find","css","backface-visibility","-webkit-backface-visibility","origin","setTransition","duration","transition","_ref","allSlides","activeIndex","virtualTranslate","eventTriggered","transitionEnd","destroyed","animating","triggerEvents","trigger","effectVirtualTransitionEnd","EffectCreative","name","perspective","create","bind","on","beforeInit","effect","classNames","push","containerModifierClass","overwriteParams","watchSlidesProgress","originalParams"],"mappings":"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","file":"../../modules/swiper-creative-effect.min.js","sourcesContent":["var Utils = {\r\n    deleteProps: function deleteProps(obj) {\r\n      var object = obj;\r\n      Object.keys(object).forEach(function (key) {\r\n        try {\r\n          object[key] = null;\r\n        } catch (e) {\r\n          // no getter for object\r\n        }\r\n        try {\r\n          delete object[key];\r\n        } catch (e) {\r\n          // something got wrong\r\n        }\r\n      });\r\n    },\r\n    nextTick: function nextTick(callback, delay) {\r\n      if ( delay === void 0 ) delay = 0;\r\n\r\n      return setTimeout(callback, delay);\r\n    },\r\n    now: function now() {\r\n      return Date.now();\r\n    },\r\n    getTranslate: function getTranslate(el, axis) {\r\n      if ( axis === void 0 ) axis = 'x';\r\n\r\n      var matrix;\r\n      var curTransform;\r\n      var transformMatrix;\r\n\r\n      var curStyle = win.getComputedStyle(el, null);\r\n\r\n      if (win.WebKitCSSMatrix) {\r\n        curTransform = curStyle.transform || curStyle.webkitTransform;\r\n        if (curTransform.split(',').length > 6) {\r\n          curTransform = curTransform.split(', ').map(function (a) { return a.replace(',', '.'); }).join(', ');\r\n        }\r\n        // Some old versions of Webkit choke when 'none' is passed; pass\r\n        // empty string instead in this case\r\n        transformMatrix = new win.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\r\n      } else {\r\n        transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\r\n        matrix = transformMatrix.toString().split(',');\r\n      }\r\n\r\n      if (axis === 'x') {\r\n        // Latest Chrome and webkits Fix\r\n        if (win.WebKitCSSMatrix) { curTransform = transformMatrix.m41; }\r\n        // Crazy IE10 Matrix\r\n        else if (matrix.length === 16) { curTransform = parseFloat(matrix[12]); }\r\n        // Normal Browsers\r\n        else { curTransform = parseFloat(matrix[4]); }\r\n      }\r\n      if (axis === 'y') {\r\n        // Latest Chrome and webkits Fix\r\n        if (win.WebKitCSSMatrix) { curTransform = transformMatrix.m42; }\r\n        // Crazy IE10 Matrix\r\n        else if (matrix.length === 16) { curTransform = parseFloat(matrix[13]); }\r\n        // Normal Browsers\r\n        else { curTransform = parseFloat(matrix[5]); }\r\n      }\r\n      return curTransform || 0;\r\n    },\r\n    parseUrlQuery: function parseUrlQuery(url) {\r\n      var query = {};\r\n      var urlToParse = url || win.location.href;\r\n      var i;\r\n      var params;\r\n      var param;\r\n      var length;\r\n      if (typeof urlToParse === 'string' && urlToParse.length) {\r\n        urlToParse = urlToParse.indexOf('?') > -1 ? urlToParse.replace(/\\S*\\?/, '') : '';\r\n        params = urlToParse.split('&').filter(function (paramsPart) { return paramsPart !== ''; });\r\n        length = params.length;\r\n\r\n        for (i = 0; i < length; i += 1) {\r\n          param = params[i].replace(/#\\S+/g, '').split('=');\r\n          query[decodeURIComponent(param[0])] = typeof param[1] === 'undefined' ? undefined : decodeURIComponent(param[1]) || '';\r\n        }\r\n      }\r\n      return query;\r\n    },\r\n    isObject: function isObject(o) {\r\n      return typeof o === 'object' && o !== null && o.constructor && o.constructor === Object;\r\n    },\r\n    extend: function extend() {\r\n      var args = [], len$1 = arguments.length;\r\n      while ( len$1-- ) args[ len$1 ] = arguments[ len$1 ];\r\n\r\n      var to = Object(args[0]);\r\n      for (var i = 1; i < args.length; i += 1) {\r\n        var nextSource = args[i];\r\n        if (nextSource !== undefined && nextSource !== null) {\r\n          var keysArray = Object.keys(Object(nextSource));\r\n          for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\r\n            var nextKey = keysArray[nextIndex];\r\n            var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\r\n            if (desc !== undefined && desc.enumerable) {\r\n              if (Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {\r\n                Utils.extend(to[nextKey], nextSource[nextKey]);\r\n              } else if (!Utils.isObject(to[nextKey]) && Utils.isObject(nextSource[nextKey])) {\r\n                to[nextKey] = {};\r\n                Utils.extend(to[nextKey], nextSource[nextKey]);\r\n              } else {\r\n                to[nextKey] = nextSource[nextKey];\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return to;\r\n    },\r\n  };\r\n\r\n  function effectTarget(effectParams, $slideEl) {\r\n    if (effectParams.transformEl) {\r\n      return $slideEl.find(effectParams.transformEl).css({\r\n        'backface-visibility': 'hidden',\r\n        '-webkit-backface-visibility': 'hidden'\r\n      });\r\n    }\r\n\r\n    return $slideEl;\r\n  }\r\n\r\n  function effectVirtualTransitionEnd({\r\n    swiper,\r\n    duration,\r\n    transformEl,\r\n    allSlides\r\n  }) {\r\n    const {\r\n      slides,\r\n      activeIndex,\r\n      $wrapperEl\r\n    } = swiper;\r\n\r\n    if (swiper.params.virtualTranslate && duration !== 0) {\r\n      let eventTriggered = false;\r\n      let $transitionEndTarget;\r\n\r\n      if (allSlides) {\r\n        $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\r\n      } else {\r\n        $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\r\n      }\r\n\r\n      $transitionEndTarget.transitionEnd(() => {\r\n        if (eventTriggered) return;\r\n        if (!swiper || swiper.destroyed) return;\r\n        eventTriggered = true;\r\n        swiper.animating = false;\r\n        const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\r\n\r\n        for (let i = 0; i < triggerEvents.length; i += 1) {\r\n          $wrapperEl.trigger(triggerEvents[i]);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\nexport { Utils, effectTarget, effectVirtualTransitionEnd };\r\n","import { Utils, effectTarget, effectVirtualTransitionEnd } from './swiper-utils.mjs';\r\n\r\nconst getTranslateValue = function (value) {\r\n\tif (typeof value === 'string') return value;\r\n\treturn `${value}px`;\r\n};\r\n\r\nvar Creative = {\r\n\tsetTranslate: function setTranslate() {\r\n\t\tconst swiper = this;\r\n\t\tconst { slides, $wrapperEl, slidesSizesGrid } = swiper;\r\n\t\tconst params = swiper.params.creativeEffect;\r\n\t\tconst { progressMultiplier: multiplier } = params;\r\n\t\tconst isCenteredSlides = swiper.params.centeredSlides;\r\n\r\n\t\tif (isCenteredSlides) {\r\n\t\t\tconst margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\r\n\t\t\t$wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < slides.length; i += 1) {\r\n\t\t\tconst $slideEl = slides.eq(i);\r\n\t\t\tconst slideProgress = $slideEl[0].progress;\r\n\r\n\t\t\t// [START] Add Other Code\r\n\t\t\tconst progressPlusMinus = Math.min(\r\n\t\t\t\tMath.max($slideEl[0].progress, -params.limitProgress),\r\n\t\t\t\tparams.limitProgress\r\n\t\t\t);\r\n\t\t\tconst slideProgressRound = Math.round(slideProgress);\r\n\t\t\tconst slideProgressAbs = Math.abs(slideProgress);\r\n\r\n\t\t\tlet sum = 1;\r\n\t\t\tif (params.deep && Math.abs(slideProgressRound) > 1) {\r\n\t\t\t\tfor (let j = 1; j < slideProgressAbs; j++) {\r\n\t\t\t\t\tif (slideProgressAbs - j >= 1) {\r\n\t\t\t\t\t\tsum += 1 * Math.pow(params.rate, j);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsum = sum + (slideProgressAbs - j) * Math.pow(params.rate, j);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst progress = !params.deep\r\n\t\t\t\t? progressPlusMinus\r\n\t\t\t\t: Math.abs(slideProgressRound) <= 1\r\n\t\t\t\t\t? slideProgress\r\n\t\t\t\t\t: sum * progressPlusMinus;\r\n\r\n\t\t\t// [END] Add Other Code\r\n\r\n\t\t\t// ↓ Origin\r\n\t\t\t// const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\r\n\t\t\tlet originalProgress = progress;\r\n\r\n\t\t\tif (!isCenteredSlides) {\r\n\t\t\t\toriginalProgress = Math.min(\r\n\t\t\t\t\tMath.max($slideEl[0].originalProgress, -params.limitProgress),\r\n\t\t\t\t\tparams.limitProgress\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tconst offset = $slideEl[0].swiperSlideOffset;\r\n\t\t\tconst t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\r\n\t\t\tconst r = [0, 0, 0];\r\n\t\t\tlet custom = false;\r\n\r\n\t\t\tif (!swiper.isHorizontal()) {\r\n\t\t\t\tt[1] = t[0];\r\n\t\t\t\tt[0] = 0;\r\n\t\t\t}\r\n\r\n\t\t\tlet data = {\r\n\t\t\t\ttranslate: [0, 0, 0],\r\n\t\t\t\trotate: [0, 0, 0],\r\n\t\t\t\tscale: 1,\r\n\t\t\t\topacity: 1,\r\n\t\t\t};\r\n\r\n\t\t\tif (progress < 0) {\r\n\t\t\t\tdata = params.next;\r\n\t\t\t\tcustom = true;\r\n\t\t\t} else if (progress > 0) {\r\n\t\t\t\tdata = params.prev;\r\n\t\t\t\tcustom = true;\r\n\t\t\t} // set translate\r\n\r\n\t\t\tt.forEach((value, index) => {\r\n\t\t\t\tt[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(\r\n\t\t\t\t\tprogress * multiplier\r\n\t\t\t\t)}))`;\r\n\t\t\t}); // set rotates\r\n\r\n\t\t\tr.forEach((value, index) => {\r\n\t\t\t\tr[index] = data.rotate[index] * Math.abs(progress * multiplier);\r\n\t\t\t});\r\n\t\t\t$slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\r\n\t\t\tconst translateString = t.join(', ');\r\n\t\t\tconst rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\r\n\t\t\tconst scaleString =\r\n\t\t\t\toriginalProgress < 0\r\n\t\t\t\t\t? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})`\r\n\t\t\t\t\t: `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\r\n\t\t\tconst opacityString =\r\n\t\t\t\tdata.opacity === null\r\n\t\t\t\t\t? null\r\n\t\t\t\t\t: originalProgress < 0\r\n\t\t\t\t\t\t? 1 + (1 - data.opacity) * originalProgress * multiplier\r\n\t\t\t\t\t\t: 1 - (1 - data.opacity) * originalProgress * multiplier;\r\n\t\t\tconst transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\r\n\r\n\t\t\tif ((custom && data.shadow) || !custom) {\r\n\t\t\t\tlet $shadowEl = $slideEl.children('.swiper-slide-shadow');\r\n\r\n\t\t\t\tif ($shadowEl.length === 0 && data.shadow) {\r\n\t\t\t\t\t$shadowEl = createShadow(params, $slideEl);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ($shadowEl.length) {\r\n\t\t\t\t\tconst shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\r\n\t\t\t\t\t$shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst $targetEl = effectTarget(params, $slideEl);\r\n\t\t\t$targetEl.transform(transform).css({\r\n\t\t\t\topacity: opacityString,\r\n\t\t\t});\r\n\r\n\t\t\tif (data.origin) {\r\n\t\t\t\t$targetEl.css('transform-origin', data.origin);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tsetTransition: function setTransition(duration) {\r\n\t\tconst swiper = this;\r\n\t\tconst { transformEl } = swiper.params.creativeEffect;\r\n\t\tconst $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\r\n\t\t$transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\r\n\t\teffectVirtualTransitionEnd({\r\n\t\t\tswiper,\r\n\t\t\tduration,\r\n\t\t\ttransformEl,\r\n\t\t\tallSlides: true,\r\n\t\t});\r\n\t},\r\n};\r\n\r\nvar EffectCreative = {\r\n\tname: 'creative',\r\n\tparams: {\r\n\t\tcreativeEffect: {\r\n\t\t\ttransformEl: null,\r\n\t\t\tlimitProgress: 1,\r\n\t\t\tshadowPerProgress: false,\r\n\t\t\tprogressMultiplier: 1,\r\n\t\t\tperspective: true,\r\n\t\t\tprev: {\r\n\t\t\t\ttranslate: [0, 0, 0],\r\n\t\t\t\trotate: [0, 0, 0],\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: 1,\r\n\t\t\t},\r\n\t\t\tnext: {\r\n\t\t\t\ttranslate: [0, 0, 0],\r\n\t\t\t\trotate: [0, 0, 0],\r\n\t\t\t\topacity: 1,\r\n\t\t\t\tscale: 1,\r\n\t\t\t},\r\n\t\t\tdeep: false, // 是否層遞影響\r\n\t\t\trate: 0.5, // 以幾倍的方式遞增/遞減\r\n\t\t},\r\n\t},\r\n\tcreate: function create() {\r\n\t\tvar swiper = this;\r\n\t\tUtils.extend(swiper, {\r\n\t\t\tcreativeEffect: {\r\n\t\t\t\tsetTranslate: Creative.setTranslate.bind(swiper),\r\n\t\t\t\tsetTransition: Creative.setTransition.bind(swiper),\r\n\t\t\t},\r\n\t\t});\r\n\t},\r\n\ton: {\r\n\t\tbeforeInit: function beforeInit() {\r\n\t\t\tvar swiper = this;\r\n\t\t\tif (swiper.params.effect !== 'creative') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tswiper.classNames.push(swiper.params.containerModifierClass + 'creative');\r\n\t\t\tvar overwriteParams = {\r\n\t\t\t\twatchSlidesProgress: true,\r\n\t\t\t\tvirtualTranslate: !swiper.params.cssMode,\r\n\t\t\t};\r\n\t\t\tUtils.extend(swiper.params, overwriteParams);\r\n\t\t\tUtils.extend(swiper.originalParams, overwriteParams);\r\n\t\t},\r\n\t\tsetTranslate: function setTranslate() {\r\n\t\t\tvar swiper = this;\r\n\t\t\tif (swiper.params.effect !== 'creative') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tswiper.creativeEffect.setTranslate();\r\n\t\t},\r\n\t\tsetTransition: function setTransition(duration) {\r\n\t\t\tvar swiper = this;\r\n\t\t\tif (swiper.params.effect !== 'creative') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tswiper.creativeEffect.setTransition(duration);\r\n\t\t},\r\n\t},\r\n};\r\n\r\nexport { EffectCreative };\r\n"],"sourceRoot":"../../../src/"}