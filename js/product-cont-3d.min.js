!function(){"use strict";function a(e,t,n,o){if(e=e||window,window.addEventListener){var i=o||!1;e.addEventListener(t,n,i)}else e.attachEvent("on"+t,n)}function n(e,t,n,o,i){if(e=e||window,"load"===t){i=i||20;a(e,t,function(){var e=this;setTimeout(function(){n.call(e)},i)},o)}else a(e,"load:origin"===t?t=t.replace(/:origin/,""):t,n,o)}if(void 0===Element.prototype.setPointerCapture||void 0===Element.prototype.hasPointerCapture||void 0===Element.prototype.releasePointerCapture){console.log("polyfill-pointer-capture");var e=Element.prototype,t=e.setPointerCapture;e.hasPointerCapture;var o=e.releasePointerCapture,i={},r={};console.log("setPointerCapture",void 0===Element.prototype.setPointerCapture),void 0===Element.prototype.setPointerCapture&&(Element.prototype.setPointerCapture=function(e){if(e in r){if(document.contains(this))return r[e]=this,t.call(i[e],e);throw new TypeError("Element not in valid location")}return t.call(this,e)}),console.log("hasPointerCapture",void 0===Element.prototype.hasPointerCapture),void 0===Element.prototype.hasPointerCapture&&(Element.prototype.hasPointerCapture=function(e){return e in r&&r[e]==this}),console.log("releasePointerCapture",void 0===Element.prototype.releasePointerCapture),Element.prototype.releasePointerCapture&&(Element.prototype.releasePointerCapture=function(e){return e in r?this.hasPointerCapture(e)?(r[e]=null,o.call(i[e],e)):void 0:o.call(this,e)});var l=function(e){null!=r[e.pointerId]&&r[e.pointerId]!=e.target&&(e.preventDefault(),e.stopPropagation(),r[e.pointerId].dispatchEvent(new PointerEvent(e.type,e)))},s=function(e){l(e),delete i[e.pointerId],delete r[e.pointerId]};addEventListener("pointerdown",function(e){"touch"!=e.pointerType&&"pen"!=e.pointerType||(i[e.pointerId]=e.target,r[e.pointerId]=null)},{capture:!0,passive:!0}),addEventListener("pointermove",l,{capture:!0,passive:!1}),addEventListener("pointerup",s,{capture:!0,passive:!1}),addEventListener("pointercancel",s,{capture:!0,passive:!1})}!function(o,t){var i=null;n(o,"load",function(){(i=new UAParser).getDevice().model});var a=null,r=null,l=null;o.build3D=function(){var e;o.BABYLON&&(r=t.getElementById("babylon-viewer"),l=t.querySelector(".js-fullscreen"),function(){var e=r.dataset.model,t=r.dataset.cover;console.log(t);var n=Math.max(.5,1/(o.devicePixelRatio||2));(a=new BabylonViewer.DefaultViewer(r,{engine:{antialiasing:!1},model:{url:e,animation:{autoStart:!0}},templates:{loadingScreen:{params:{backgroundColor:"linear-gradient(to bottom,#a6f4f2,#d0fbee 69%,#eaf8f4 99%)",loadingImage:"images/babylon-loading.png",staticLoadingImage:"images/babylon-static.svg",cover:t},html:'\n\t\t\t\t\t<style>loading-screen{position:absolute;left:0;z-index:100;opacity:1;overflow: hidden;pointer-events:none;display:flex;justify-content:center;align-items:center;-webkit-transition:opacity 1s ease;-moz-transition:opacity 1s ease;transition:opacity 1s ease;}img.loading-image{-webkit-animation:spin .75s linear infinite;animation:spin .75s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.modal-loading-demo{position:absolute;width:100%;height:100%;}.modal-loading-demo__inside{position:absolute;width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:center center;filter:blur(5px);}</style>\n\t\t\t\t\t<div class="modal-loading-demo" style="position:absolute;">\n\t\t\t\t\t\t<div class="modal-loading-demo__inside" style="position:absolute;background-image:url({{cover}});-webkit-transform:scale(1.1);transform:scale(1.1);"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<img class="loading-image" style="position:absolute" src="{{loadingImage}}">\n\t\t\t\t\t<img class="static-loading-image" style="position:absolute" src="{{staticLoadingImage}}">\n\t\t\t\t\t'},viewer:{params:{enableDragAndDrop:!0}},navBar:{html:"<div><div/>"}},camera:{behaviors:{autoRotate:{type:0}}}})).onModelLoadedObservable.add(function(e){1!==n&&a.engine.setHardwareScalingLevel(n),i.getOS().name.match(/iOS/)||l.classList.remove("hide")})}(),e=r,n(l,"click",function(){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():t.webkitEnterFullscreen&&e.webkitEnterFullscreen()}))}}(window,document)}();
//# sourceMappingURL=maps/product-cont-3d.min.js.map
